#!/bin/bash

# Quickly mount disks the first time before fstab is generated.
# Simply add the partition path (/dev/sda1) and mount directory 
# (/mnt) to 'disks' file
ROOT_PART='/dev/nvme0n1p3'
SWAP_PART='/dev/nvme0n1p6'

mount $ROOT_PART /mnt

declare \
 -A \
 disks

source disks

for d in ${!disks[@]}
do
    mkdir \
     -p \
     ${disks[$d]} &> /tmp/.0
    mount $d ${disks[$d]} &> /tmp/.0
done

swapon $SWAPPART

unset SWAPPART d disks
